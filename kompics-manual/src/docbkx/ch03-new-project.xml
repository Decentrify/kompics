

<chapter id="kompics.new-project">
	<title>Creating a new project</title>

	<para>
		This chapter shows you how to create a new project using the
		archetype plugin. You can select from among different
		templates for new projects, and run the archetype plugin either
		from the command-line or your IDE (Eclipse shown here).
	</para>
	<!--
		<itemizedlist>
			<listitem>
				<xref linkend="kompics.new-project.command-line"/>, and
			</listitem>
			<listitem>
				<xref linkend="kompics.new-project.eclipse"/>. 
			</listitem>
		</itemizedlist>
		=================================================================
	-->
	<!--
		=================================================================
	-->

	<sect1 id="kompics.new-project.command-line">
		<title>New Project using Command Line</title>
		<para>
			To create a new project from a Kompics archetype (i.e., a template),
			you execute the
			generate goal of the maven archetype plugin and
			supply the URL for the kompics archetype catalog file as a parameter.
			You then select a number corresponding to the archetype you will use to
			create your project. Then you supply the
			<code>groupId, artifactId, version, package</code>
			for your new project.
			You can then test your new project, by building it using the
			<code>compile</code>
			and
			<code>execute</code>
			plugins. Note that the parameters for the exec plugin (including
			which class
			to execute) are included in the pom.xml file of your generated project.
		</para>
		<screen>
			<code>cd <emphasis>myProjDir</emphasis></code>
			<code>mvn archetype:generate -DarchetypeCatalog=http://korsakov.sics.se/maven</code>
			...
			Choose archetype:
			1: http://korsakov.sics.se/maven ->
			kompics-archetype-basic (Kompics
			archetype for creating a basic
			Kompics application)
			2: http://korsakov.sics.se/maven ->
			kompics-archetype-p2p (Kompics
			archetype for creating a Kompics
			application with P2P framework
			support)
			Choose a number: (1/2):<code><emphasis>1</emphasis></code>
			...
			Define value for groupId: :<code><emphasis>mypackage</emphasis></code>
			Define value for artifactId: :<code><emphasis>myproject</emphasis></code>
			Define value for version: 1.0-SNAPSHOT: :
			Define value for package: mypackage: :
			Confirm properties configuration:
			kompicsVersion:
			0.4.2-SNAPSHOT
			groupId: mypackage
			artifactId: myproject
			version:
			1.0-SNAPSHOT
			package: mypackage
			Y: :
			...
			# to test your template, you can build it and run the sample
			application
			cd mypackage
			mvn component
			mvn exec:exec
		</screen>

<note>		<para>The P2P archetype will launch a set of windows, which you
			can exit by entering <code>crtl-k</code>
			in one of the launcher's windows.
			</para>
			<graphic fileref="images/ch03/launcher.png" />
</note>
	</sect1>


	<sect1 id="kompics.new-project.eclipse">
		<title>Creating a new Project in Eclipse using Kompics
			Archetypes</title>

		<para>
			Create a new maven project using
			<code>File->New->Project->Maven->Maven
				Project</code>
			.
			If Maven Project is not showing up in your
			<code>New Project</code>
			menu options,
			you probably haven't installed the M2Eclipse plugin correctly.
			<graphic fileref="images/ch03/new-project-maven.png" />
		</para>
		<para>
			You need to add a new catalog file from the Kompics repository, so
			click on
			<code>Configure</code>
			for the catalog option.
			<graphic fileref="images/ch03/new-project-maven-select-archetype.png" />
		</para>

		<para>
			Click on
			<code>Add Remote Catalog</code>
			.
			<graphic fileref="images/ch03/new-project-maven-add-remote-catalog.png" />
		</para>

		<para>
			Add
			<code>http://kompics.sics.se/maven</code>
			as the Catalog File entry.
			Add a description for this catalog file,
			such as
			<code>kompics archetypes</code>
			.
			<graphic fileref="images/ch03/new-project-maven-add-kompics-catalog.png" />
		</para>

		<para>
			From the drop-down list of
			<code>Catalog</code>
			options, select
			<code>kompics archetypes</code>
			, then select the archetype (template) you
			would like to use to create your kompics project. Here we have selected
			<code>kompics-archetype-p2p</code>
			(an archetype for creating a P2P application).
			<graphic fileref="images/ch03/new-project-maven-select-kompics-archetype.png" />
		</para>

		<para>
			Enter the
			<code>Group Id</code>
			,
			<code>Artifact Id</code>
			,
			<code>Version</code>
			,
			<code>Package</code>
			and
			<code>kompicsVersion</code>
			for this project.
			<graphic fileref="images/ch03/new-project-maven-kompics-archetype-params.png" />
		</para>

		<para>
			You can run the generated project by running the
			<code>main.Root</code>
			class.
		</para>
	</sect1>


</chapter>
